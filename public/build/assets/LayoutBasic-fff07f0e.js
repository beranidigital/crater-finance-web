import{u as I}from"./auth-1696cd6c.js";import{e as V,J as U,f as j,g as z,l as w,A as H,r as p,o as n,n as c,w as a,b as e,m as t,_ as O,c as d,L as b,M as v,H as x,q as u,t as i,a as o,a_ as T,a$ as q,b0 as E,b1 as F,b2 as G,b3 as J,b4 as P,b5 as K,b6 as Q,I as W}from"./main-55335c70.js";import{u as A}from"./global-e8b9ee07.js";import{N as X}from"./NotificationRoot-0acfcb42.js";const Y={class:"mx-auto px-8"},Z={class:"flex justify-between h-16 w-full"},ee={class:"flex"},te={class:"shrink-0 flex items-center"},se=["href"],re=["src"],oe={class:"hidden sm:-my-px sm:ml-6 sm:flex sm:space-x-8"},ae={class:"hidden sm:ml-6 sm:flex sm:items-center"},ne=e("button",{type:"button",class:"bg-white p-1 rounded-full text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500"},null,-1),le=["src"],ie={class:"-mr-2 flex items-center sm:hidden"},ce=e("span",{class:"sr-only"},"Open main menu",-1),ue={class:"pt-2 pb-3 space-y-1"},de={class:"pt-4 pb-3 border-t border-gray-200"},me={class:"flex items-center px-4"},fe={class:"shrink-0"},_e=["src"],pe={class:"ml-3"},he={class:"text-base font-medium text-gray-800"},ge={class:"text-sm font-medium text-gray-500"},ye=e("button",{type:"button",class:"ml-auto bg-white shrink-0 p-1 rounded-full text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500"},null,-1),be={class:"mt-3 space-y-1"},ve={__name:"TheSiteHeader",setup(L){const{t:m}=V(),f=U(),r=A(),h=[{title:m("navigation.logout"),link:`/${r.companySlug}/customer/login`}],k=I(),$=j(),g=z(""),S=w(()=>r.currentUser&&r.currentUser.avatar!==0?r.currentUser.avatar:N());function N(){return new URL("/build/assets/default-avatar-e017b3b3.jpg",self.location)}H(f,l=>{g.value=l.path},{immediate:!0});const B=w(()=>window.customer_logo?window.customer_logo:!1);function y(l){return f.path.indexOf(l)>-1}function C(){k.logout(r.companySlug).then(l=>{l&&$.push({name:"customer.login"})})}return(l,ke)=>{const _=p("router-link"),D=p("BaseDropdownItem"),M=p("BaseDropdown");return n(),c(t(Q),{as:"nav",class:"bg-white shadow-sm fixed top-0 left-0 z-20 w-full"},{default:a(({open:R})=>[e("div",Y,[e("div",Z,[e("div",ee,[e("div",te,[e("a",{href:`/${t(r).companySlug}/customer/dashboard`,class:"float-none text-lg not-italic font-black tracking-wider text-white brand-main md:float-left font-base"},[B.value?(n(),d("img",{key:1,src:B.value,class:"h-6"},null,8,re)):(n(),c(O,{key:0,class:"h-6"}))],8,se)]),e("div",oe,[(n(!0),d(b,null,v(t(r).mainMenu,s=>(n(),c(_,{key:s.title,to:`/${t(r).companySlug}${s.link}`,class:x([y(s.link)?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300","inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium"])},{default:a(()=>[u(i(s.title),1)]),_:2},1032,["to","class"]))),128))])]),e("div",ae,[ne,o(t(T),{as:"div",class:"ml-3 relative"},{default:a(()=>[o(M,{"width-class":"w-48"},{activator:a(()=>[o(t(q),{class:"bg-white flex text-sm rounded-full focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500"},{default:a(()=>[e("img",{class:"h-8 w-8 rounded-full",src:S.value,alt:""},null,8,le)]),_:1})]),default:a(()=>[o(_,{to:{name:"customer.profile"}},{default:a(()=>[o(D,null,{default:a(()=>[o(t(E),{class:"w-5 h-5 mr-3 text-gray-400 group-hover:text-gray-500","aria-hidden":"true"}),u(" "+i(l.$t("navigation.settings")),1)]),_:1})]),_:1},8,["to"]),o(D,{onClick:C},{default:a(()=>[o(t(F),{class:"w-5 h-5 mr-3 text-gray-400 group-hover:text-gray-500","aria-hidden":"true"}),u(" "+i(l.$t("navigation.logout")),1)]),_:1})]),_:1})]),_:1})]),e("div",ie,[o(t(G),{class:"bg-white inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500"},{default:a(()=>[ce,R?(n(),c(t(P),{key:1,class:"block h-6 w-6","aria-hidden":"true"})):(n(),c(t(J),{key:0,class:"block h-6 w-6","aria-hidden":"true"}))]),_:2},1024)])])]),o(t(K),{class:"sm:hidden"},{default:a(()=>[e("div",ue,[(n(!0),d(b,null,v(t(r).mainMenu,s=>(n(),c(_,{key:s.title,to:`/${t(r).companySlug}${s.link}`,class:x([y(s.link)?"bg-primary-50 border-primary-500 text-primary-700":"border-transparent text-gray-600 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-800","block pl-3 pr-4 py-2 border-l-4 text-base font-medium"]),"aria-current":s.current?"page":void 0},{default:a(()=>[u(i(s.title),1)]),_:2},1032,["to","class","aria-current"]))),128))]),e("div",de,[e("div",me,[e("div",fe,[e("img",{class:"h-10 w-10 rounded-full",src:S.value,alt:""},null,8,_e)]),e("div",pe,[e("div",he,i(t(r).currentUser.title),1),e("div",ge,i(t(r).currentUser.email),1)]),ye]),e("div",be,[(n(),d(b,null,v(h,s=>o(_,{key:s.title,to:s.link,class:x([y(s.link)?"bg-primary-50 border-primary-500 text-primary-700":"border-transparent text-gray-600 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-800","block pl-3 pr-4 py-2 border-l-4 text-base font-medium"])},{default:a(()=>[u(i(s.title),1)]),_:2},1032,["to","class"])),64))])])]),_:1})]),_:1})}}},xe={key:0,class:"h-full"},we={class:"mt-16 pb-16 h-screen overflow-y-auto min-h-0"},Ue={__name:"LayoutBasic",setup(L){const m=A(),f=U(),r=w(()=>m.isAppLoaded);h();async function h(){await m.bootstrap(f.params.company)}return(k,$)=>{const g=p("router-view");return r.value?(n(),d("div",xe,[o(X),o(ve),e("main",we,[o(g)])])):W("",!0)}}};export{Ue as default};
