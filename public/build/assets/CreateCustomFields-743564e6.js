import{e as T,h as E,ae as P,k as I,l as _,av as g,aw as s,r as f,o as l,n as c,w as v,a1 as D,m,ac as q,aC as V,A as h,c as y,a as F,L,M as C,I as O,a9 as S}from"./main-55335c70.js";import{_ as A}from"./dynamic-import-helper-be004503.js";const b={__name:"CreateCustomFieldsSingle",props:{field:{type:Object,required:!0},customFieldScope:{type:String,required:!0},index:{type:Number,required:!0},store:{type:Object,required:!0},storeProp:{type:String,required:!0}},setup(e){const i=e,{t:o}=T(),d={value:{required:E.withMessage(o("validation.required"),P(i.field.is_required))}},a=I(d,_(()=>i.field),{$scope:i.customFieldScope}),t=_(()=>i.field.type?g(()=>A(Object.assign({"./types/DateTimeType.vue":()=>s(()=>import("./DateTimeType-a0bd6796.js"),["assets/DateTimeType-a0bd6796.js","assets/main-55335c70.js","assets/main-5062f39c.css"]),"./types/DateType.vue":()=>s(()=>import("./DateType-94ebfd96.js"),["assets/DateType-94ebfd96.js","assets/main-55335c70.js","assets/main-5062f39c.css"]),"./types/DropdownType.vue":()=>s(()=>import("./DropdownType-7eefc163.js"),["assets/DropdownType-7eefc163.js","assets/main-55335c70.js","assets/main-5062f39c.css"]),"./types/InputType.vue":()=>s(()=>import("./InputType-4e7fd5eb.js"),["assets/InputType-4e7fd5eb.js","assets/main-55335c70.js","assets/main-5062f39c.css"]),"./types/NumberType.vue":()=>s(()=>import("./NumberType-33a84fb8.js"),["assets/NumberType-33a84fb8.js","assets/main-55335c70.js","assets/main-5062f39c.css"]),"./types/PhoneType.vue":()=>s(()=>import("./PhoneType-821fd6ce.js"),["assets/PhoneType-821fd6ce.js","assets/main-55335c70.js","assets/main-5062f39c.css"]),"./types/SwitchType.vue":()=>s(()=>import("./SwitchType-ee32f870.js"),["assets/SwitchType-ee32f870.js","assets/main-55335c70.js","assets/main-5062f39c.css"]),"./types/TextAreaType.vue":()=>s(()=>import("./TextAreaType-cd733ee7.js"),["assets/TextAreaType-cd733ee7.js","assets/main-55335c70.js","assets/main-5062f39c.css"]),"./types/TimeType.vue":()=>s(()=>import("./TimeType-317f2b17.js"),["assets/TimeType-317f2b17.js","assets/main-55335c70.js","assets/main-5062f39c.css"]),"./types/UrlType.vue":()=>s(()=>import("./UrlType-4067c22c.js"),["assets/UrlType-4067c22c.js","assets/main-55335c70.js","assets/main-5062f39c.css"])}),`./types/${i.field.type}Type.vue`)):!1);return(u,r)=>{const n=f("BaseInputGroup");return l(),c(n,{label:e.field.label,required:!!e.field.is_required,error:m(a).value.$error&&m(a).value.$errors[0].$message},{default:v(()=>[(l(),c(D(t.value),{modelValue:e.field.value,"onUpdate:modelValue":r[0]||(r[0]=p=>e.field.value=p),options:e.field.options,invalid:m(a).value.$error,placeholder:e.field.placeholder},null,8,["modelValue","options","invalid","placeholder"]))]),_:1},8,["label","required","error"])}}},w={key:0},B={__name:"CreateCustomFields",props:{store:{type:Object,required:!0},storeProp:{type:String,required:!0},isEdit:{type:Boolean,default:!1},type:{type:String,default:null},gridLayout:{type:String,default:"two-column"},isLoading:{type:Boolean,default:null},customFieldScope:{type:String,required:!0}},setup(e){const i=q(),o=e;a();function d(){o.isEdit&&o.store[o.storeProp].fields.forEach(t=>{const u=o.store[o.storeProp].customFields.findIndex(r=>r.id===t.custom_field_id);if(u>-1){let r=t.default_answer;r&&t.custom_field.type==="DateTime"&&(r=S(t.default_answer,"YYYY-MM-DD HH:mm:ss").format("YYYY-MM-DD HH:mm")),o.store[o.storeProp].customFields[u]={...t,id:t.custom_field_id,value:r,label:t.custom_field.label,options:t.custom_field.options,is_required:t.custom_field.is_required,placeholder:t.custom_field.placeholder,order:t.custom_field.order}}})}async function a(){let u=(await i.fetchCustomFields({type:o.type,limit:"all"})).data.data;u.map(r=>r.value=r.default_answer),o.store[o.storeProp].customFields=V.sortBy(u,r=>r.order),d()}return h(()=>o.store[o.storeProp].fields,t=>{d()}),(t,u)=>{const r=f("BaseInputGrid");return e.store[e.storeProp]&&e.store[e.storeProp].customFields.length>0&&!e.isLoading?(l(),y("div",w,[F(r,{layout:e.gridLayout},{default:v(()=>[(l(!0),y(L,null,C(e.store[e.storeProp].customFields,(n,p)=>(l(),c(b,{key:n.id,"custom-field-scope":e.customFieldScope,store:e.store,"store-prop":e.storeProp,index:p,field:n},null,8,["custom-field-scope","store","store-prop","index","field"]))),128))]),_:1},8,["layout"])])):O("",!0)}}};export{B as _};
